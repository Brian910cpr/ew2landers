<!DOCTYPE html> <html lang="en"> <head> <meta charset="utf-8"> <title>910CPR Classes – Mobile</title> <meta name="viewport" content="width=device-width, initial-scale=1"> <meta name="description" content="Mobile-friendly CPR, BLS, ACLS, and First Aid schedule for 910CPR in Wilmington, Burgaw, and Southeastern North Carolina."> <style> :root { --bg-top: #ffffff; --bg-bottom: #e8f3ff; --accent: #1673b8; --accent-dark: #0f4f83; --accent-soft: #e1f0ff; --border-subtle: #d8e4f2; --text-main: #102235; --text-muted: #5b6b7c; --card-radius: 14px; --shadow-soft: 0 4px 14px rgba(0,0,0,0.08); } * { box-sizing: border-box; } body { margin: 0; font-family: system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif; color: var(--text-main); background: linear-gradient(to bottom, var(--bg-top), var(--bg-bottom)); } header { position: sticky; top: 0; z-index: 50; background: rgba(255,255,255,0.97); backdrop-filter: blur(10px); border-bottom: 1px solid var(--border-subtle); } .header-inner { max-width: 720px; margin: 0 auto; padding: 10px 14px; display: flex; justify-content: space-between; align-items: center; gap: 10px; } .brand { display: flex; align-items: center; gap: 8px; } .brand img { width: 32px; height: 32px; border-radius: 50%; object-fit: contain; } .brand-text { display: flex; flex-direction: column; line-height: 1.1; } .brand-text span:first-child { font-weight: 700; font-size: 0.9rem; } .brand-text span:last-child { font-size: 0.7rem; color: var(--text-muted); } .header-call { font-size: 0.78rem; white-space: nowrap; } .header-call a { text-decoration: none; color: var(--accent-dark); font-weight: 600; } main { max-width: 720px; margin: 0 auto; padding: 10px 12px 80px 12px; } .intro-box { margin-top: 6px; margin-bottom: 10px; padding: 10px 12px; border-radius: var(--card-radius); background: #ffffff; border: 1px solid var(--border-subtle); box-shadow: var(--shadow-soft); font-size: 0.8rem; } .intro-box strong { display: block; margin-bottom: 3px; font-size: 0.86rem; } .intro-meta { margin-top: 6px; display: flex; flex-wrap: wrap; gap: 6px; } .pill { padding: 3px 7px; border-radius: 999px; border: 1px solid #c5dbf7; background: var(--accent-soft); font-size: 0.7rem; color: var(--accent-dark); } .filters { display: flex; flex-wrap: nowrap; gap: 6px; margin-bottom: 8px; margin-top: 4px; } .filters select { flex: 1 1 0; padding: 5px 8px; border-radius: 999px; border: 1px solid var(--border-subtle); font-size: 0.78rem; background: #ffffff; } .course-list { display: flex; flex-direction: column; gap: 10px; } .course-card { background: #ffffff; border-radius: var(--card-radius); border: 1px solid var(--border-subtle); box-shadow: var(--shadow-soft); padding: 10px 10px 8px 10px; display: flex; flex-direction: column; gap: 6px; } .course-header { display: flex; gap: 8px; align-items: flex-start; } .course-image { width: 40px; height: 40px; border-radius: 10px; overflow: hidden; background: #edf3fb; border: 1px solid #d5e3f7; flex-shrink: 0; display: flex; align-items: center; justify-content: center; } .course-image img { max-width: 100%; max-height: 100%; object-fit: contain; } .course-header-text { flex: 1 1 auto; min-width: 0; } .course-title { margin: 0; font-size: 0.96rem; } .course-subtitle { margin: 1px 0 0 0; font-size: 0.76rem; color: var(--text-muted); } .course-description { margin-top: 4px; font-size: 0.78rem; color: var(--text-main); } .course-description p { margin: 0 0 3px 0; } .course-description p:last-child { margin-bottom: 0; } .class-list { margin-top: 4px; display: flex; flex-direction: column; gap: 6px; } .class-card { border-radius: 10px; border: 1px solid #edf1f9; background: #f8fbff; padding: 7px 8px; display: grid; grid-template-columns: 2fr auto; grid-template-rows: auto auto auto; grid-template-areas: "when price" "where price" "cta cta"; gap: 2px 8px; } .class-when { grid-area: when; font-size: 0.82rem; font-weight: 600; } .class-where { grid-area: where; font-size: 0.76rem; color: var(--text-muted); } .class-price { grid-area: price; font-size: 0.86rem; font-weight: 700; text-align: right; align-self: center; white-space: nowrap; } .class-cta { grid-area: cta; margin-top: 4px; } .btn-register { display: block; width: 100%; text-align: center; padding: 6px 10px; font-size: 0.82rem; border-radius: 999px; border: none; background: var(--accent); color: #ffffff; font-weight: 600; text-decoration: none; box-shadow: 0 3px 8px rgba(22,115,184,0.35); } .btn-register:hover { background: var(--accent-dark); text-decoration: none; } .empty-message { font-size: 0.78rem; color: var(--text-muted); } .sticky-footer { position: fixed; left: 0; right: 0; bottom: 0; padding: 8px 12px 10px 12px; background: rgba(255,255,255,0.98); border-top: 1px solid var(--border-subtle); backdrop-filter: blur(10px); z-index: 60; } .sticky-footer-inner { max-width: 720px; margin: 0 auto; display: flex; gap: 8px; align-items: center; } .sticky-footer-inner span { font-size: 0.75rem; color: var(--text-muted); flex: 1 1 auto; } .btn-full-schedule { flex: 0 0 auto; padding: 6px 10px; border-radius: 999px; border: none; background: var(--accent-soft); color: var(--accent-dark); font-size: 0.78rem; font-weight: 600; text-decoration: none; white-space: nowrap; } footer { margin-top: 14px; font-size: 0.72rem; color: var(--text-muted); text-align: center; } </style> </head> <body> <header> <div class="header-inner"> <div class="brand"> <img src="assets/images/910cpr_round.png" alt="910CPR logo" onerror="this.style.display='none';"> <div class="brand-text"> <span>910CPR Classes</span> <span>Tap a date to book your seat</span> </div> </div> <div class="header-call"> <a href="tel:+19103955193">Call (910) 395-5193</a> </div> </div> </header> <main> <section class="intro-box"> <strong>Pick a class, then tap Register.</strong> <span>Every card below is a real session with live pricing pulled from our schedule. If you don’t see what you need, hit the full schedule link at the bottom.</span> <div class="intro-meta"> <div class="pill" id="schedule-updated-mobile">Updated: loading…</div> <div class="pill">Cards valid 2 years</div> </div> </section>
<section class="filters">
  <select id="course-filter-mobile">
    <option value="">All course types</option>
  </select>
  <select id="location-filter-mobile">
    <option value="">All locations</option>
  </select>
</section>

<section id="course-list-mobile" class="course-list">
  <div class="course-card">
    <div class="empty-message">Loading classes…</div>
  </div>
</section>

<footer>
  <p>If you’re on a tight deadline for work or school, you can also request a private group or on-site class.</p>
</footer>

</main> <div class="sticky-footer"> <div class="sticky-footer-inner"> <span>Need a different time? See the full calendar.</span> <a class="btn-full-schedule" href="https://coastalcprtraining.enrollware.com/schedule">Full schedule</a> </div> </div> <script> function mNormalizeLocationLabel(cls) { if (cls.location_label) return cls.location_label; if (cls.location_name && cls.city && cls.state) { return cls.location_name + " — " + cls.city + ", " + cls.state; } if (cls.city && cls.state) return cls.city + ", " + cls.state; if (cls.location_name) return cls.location_name; return ""; } function mFormatPrice(value) { if (value === null || value === undefined || value === "") return ""; var num = Number(value); if (!isNaN(num)) { var base = num.toFixed(2).replace(/\.00$/, ""); return "$" + base; } return value; } function mFormatDateTime(input) { if (!input) return ""; var d = new Date(input); if (isNaN(d.getTime())) return input; var dateOpts = { weekday: "short", month: "short", day: "numeric" }; var timeOpts = { hour: "numeric", minute: "2-digit" }; return d.toLocaleDateString(undefined, dateOpts) + " " + d.toLocaleTimeString(undefined, timeOpts); } function mGetCourseDescriptionObject(course, descriptions) { if (!descriptions) return null; var keysToTry = []; if (course.course_id) keysToTry.push(String(course.course_id)); if (course.course_number) keysToTry.push(String(course.course_number)); if (course.course_code) keysToTry.push(String(course.course_code)); if (course.course_slug) keysToTry.push(String(course.course_slug)); for (var i = 0; i < keysToTry.length; i++) { var key = keysToTry[i]; if (descriptions[key]) return descriptions[key]; } return null; } function mGetDescriptionHTML(desc) { if (!desc) return ""; if (desc.html) return desc.html; if (desc.description_html) return desc.description_html; if (desc.description) return desc.description; if (desc.long) return "<p>" + desc.long + "</p>"; if (desc.text) return "<p>" + desc.text + "</p>"; return ""; } function mGetSubtitleText(course, desc) { if (course.detail) return course.detail; if (course.subtitle) return course.subtitle; if (desc) { if (desc.subtitle) return desc.subtitle; if (desc.short) return desc.short; if (desc.tagline) return desc.tagline; } return ""; } function mGetCourseImageSrc(course) { if (course.image) return course.image; if (course.image_url) return course.image_url; if (course.course_id) return "assets/images/course/" + course.course_id + ".svg"; if (course.course_number) return "assets/images/course/" + course.course_number + ".svg"; return ""; } function mBuildFilters(courses) { var courseFilter = document.getElementById("course-filter-mobile"); var locationFilter = document.getElementById("location-filter-mobile"); var courseNames = new Set(); var locations = new Set(); courses.forEach(function(course) { var name = course.course_name || course.name; if (name) courseNames.add(name); var classes = Array.isArray(course.classes) ? course.classes : []; classes.forEach(function(cls) { var label = mNormalizeLocationLabel(cls); if (label) locations.add(label); }); }); Array.from(courseNames).sort().forEach(function(name) { var opt = document.createElement("option"); opt.value = name; opt.textContent = name; courseFilter.appendChild(opt); }); Array.from(locations).sort().forEach(function(loc) { var opt = document.createElement("option"); opt.value = loc; opt.textContent = loc; locationFilter.appendChild(opt); }); } function mCourseMatchesFilters(course, courseNameFilter, locationFilter) { if (!courseNameFilter && !locationFilter) return true; if (courseNameFilter) { var name = course.course_name || course.name || ""; if (name !== courseNameFilter) return false; } if (locationFilter) { var hasMatch = false; var classes = Array.isArray(course.classes) ? course.classes : []; for (var i = 0; i < classes.length; i++) { if (mNormalizeLocationLabel(classes[i]) === locationFilter) { hasMatch = true; break; } } if (!hasMatch) return false; } return true; } function mClassMatchesLocation(cls, locationFilter) { if (!locationFilter) return true; return mNormalizeLocationLabel(cls) === locationFilter; } function mRenderSchedule(courses, descriptions) { var container = document.getElementById("course-list-mobile"); var courseFilter = document.getElementById("course-filter-mobile"); var locationFilter = document.getElementById("location-filter-mobile"); var selectedCourseName = courseFilter.value || ""; var selectedLocation = locationFilter.value || ""; container.innerHTML = ""; var visibleCount = 0; courses.forEach(function(course) { if (!mCourseMatchesFilters(course, selectedCourseName, selectedLocation)) { return; } var classes = Array.isArray(course.classes) ? course.classes : []; var filteredClasses = classes.filter(function(cls) { return mClassMatchesLocation(cls, selectedLocation); }); if (!filteredClasses.length) return; var descObj = mGetCourseDescriptionObject(course, descriptions); var subtitle = mGetSubtitleText(course, descObj); var descHTML = mGetDescriptionHTML(descObj); var imgSrc = mGetCourseImageSrc(course); var card = document.createElement("section"); card.className = "course-card"; var header = document.createElement("div"); header.className = "course-header"; if (imgSrc) { var imgWrap = document.createElement("div"); imgWrap.className = "course-image"; var img = document.createElement("img"); img.src = imgSrc; img.alt = (course.course_name || course.name || "CPR course") + " image"; img.onerror = function() { this.style.display = "none"; if (this.parentElement) this.parentElement.style.display = "none"; }; imgWrap.appendChild(img); header.appendChild(imgWrap); } var headerText = document.createElement("div"); headerText.className = "course-header-text"; var titleEl = document.createElement("h2"); titleEl.className = "course-title"; titleEl.textContent = course.course_name || course.name || "Course"; headerText.appendChild(titleEl); if (subtitle) { var subtitleEl = document.createElement("p"); subtitleEl.className = "course-subtitle"; subtitleEl.textContent = subtitle; headerText.appendChild(subtitleEl); } if (descHTML) { var descEl = document.createElement("div"); descEl.className = "course-description"; descEl.innerHTML = descHTML; headerText.appendChild(descEl); } header.appendChild(headerText); card.appendChild(header); var list = document.createElement("div"); list.className = "class-list"; filteredClasses.forEach(function(cls) { var item = document.createElement("article"); item.className = "class-card"; var whenEl = document.createElement("div"); whenEl.className = "class-when"; var start = cls.start_local || cls.start || cls.start_time || cls.start_iso; whenEl.textContent = mFormatDateTime(start); item.appendChild(whenEl); var whereEl = document.createElement("div"); whereEl.className = "class-where"; whereEl.textContent = mNormalizeLocationLabel(cls); item.appendChild(whereEl); var priceEl = document.createElement("div"); priceEl.className = "class-price"; var classPrice = (cls.price !== undefined && cls.price !== null) ? cls.price : course.price; priceEl.textContent = mFormatPrice(classPrice); item.appendChild(priceEl); var ctaEl = document.createElement("div"); ctaEl.className = "class-cta"; var url = cls.enroll_url || cls.url || cls.register_url || course.register_url; if (url) { var btn = document.createElement("a"); btn.className = "btn-register"; btn.href = url; btn.textContent = "Register"; btn.rel = "noopener"; btn.target = "_blank"; ctaEl.appendChild(btn); } item.appendChild(ctaEl); list.appendChild(item); visibleCount += 1; }); card.appendChild(list); container.appendChild(card); }); if (!visibleCount) { var card = document.createElement("div"); card.className = "course-card"; var msg = document.createElement("div"); msg.className = "empty-message"; msg.textContent = "No upcoming classes match your filters. Clear a filter or check the full schedule."; card.appendChild(msg); container.appendChild(card); } } async function mLoadSchedule() { var container = document.getElementById("course-list-mobile"); try { var results = await Promise.allSettled([ fetch("schedule.json"), fetch("course-descriptions.json") ]); if (results[0].status !== "fulfilled" || !results[0].value.ok) { throw new Error("schedule.json could not be loaded"); } var schedule = await results[0].value.json(); var descriptions = {}; if (results[1].status === "fulfilled" && results[1].value.ok) { descriptions = await results[1].value.json(); } var courses; if (Array.isArray(schedule)) { courses = schedule; } else if (Array.isArray(schedule.courses)) { courses = schedule.courses; } else if (Array.isArray(schedule.classes)) { var grouped = {}; schedule.classes.forEach(function(cls) { var id = cls.course_id || cls.course_number || cls.course_code || "unknown"; if (!grouped[id]) { grouped[id] = { course_id: id, course_name: cls.course_name || cls.course_title || "Course", classes: [] }; } grouped[id].classes.push(cls); }); courses = Object.values(grouped); } else { courses = []; } courses = courses.filter(function(course) { var classes = Array.isArray(course.classes) ? course.classes : []; var now = new Date(); var futureClasses = classes.filter(function(cls) { var start = cls.start_local || cls.start || cls.start_time || cls.start_iso; if (!start) return true; var d = new Date(start); if (isNaN(d.getTime())) return true; return d.getTime() >= now.getTime(); }); course.classes = futureClasses; return futureClasses.length > 0; }); if (schedule.generated_at && document.getElementById("schedule-updated-mobile")) { document.getElementById("schedule-updated-mobile").textContent = "Updated: " + schedule.generated_at; } mBuildFilters(courses); mRenderSchedule(courses, descriptions); document.getElementById("course-filter-mobile").addEventListener("change", function() { mRenderSchedule(courses, descriptions); }); document.getElementById("location-filter-mobile").addEventListener("change", function() { mRenderSchedule(courses, descriptions); }); } catch (err) { console.error(err); container.innerHTML = ""; var card = document.createElement("div"); card.className = "course-card"; var msg = document.createElement("div"); msg.className = "empty-message"; msg.textContent = "There was a problem loading the schedule. Please refresh the page or try again shortly."; card.appendChild(msg); container.appendChild(card); } } window.addEventListener("DOMContentLoaded", mLoadSchedule); </script> <!-- :contentReference[oaicite:2]{index=2} --> <!-- :contentReference[oaicite:3]{index=3} --> </body> </html>