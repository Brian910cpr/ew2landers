{
  "$schema": "https://json-schema.org/draft/2020-12/schema",
  "$id": "https://example.com/pivot.schema.json",
  "title": "910CPR Pivot JSON",
  "type": "object",
  "required": ["meta","sections","courses","sessions"],
  "properties": {
    "meta": {
      "type": "object",
      "required": ["source","fetched_at","session_count"],
      "properties": {
        "source": { "type": "string" },
        "fetched_at": { "type": "string" },
        "panel_count": { "type": "integer" },
        "session_count": { "type": "integer" }
      }
    },
    "sections": {
      "type": "array",
      "items": {
        "type": "object",
        "required": ["id","title","index"],
        "properties": {
          "id": { "type": "string" },
          "title": { "type": "string" },
          "index": { "type": "integer" }
        }
      }
    },
    "courses": {
      "type": "array",
      "items": {
        "type": "object",
        "required": ["id","title","section_id","brand","first_seen_index"],
        "properties": {
          "id": { "type": "string" },
          "title": { "type": "string" },
          "title_html": { "type": "string" },
          "section_id": { "type": "string" },
          "brand": { "type": "string" },
          "first_seen_index": { "type": "integer" },
          "description_html": { "type": "string" }
        }
      }
    },
    "sessions": {
      "type": "array",
      "items": {
        "type": "object",
        "required": ["course_id","url","id"],
        "properties": {
          "course_id": { "type": "string" },
          "title": { "type": "string" },
          "start_text": { "type": "string" },
          "start_iso": { "type": ["string","null"] },
          "location": { "type": "string" },
          "url": { "type": "string" },
          "id": { "type": ["integer","null"] }
        }
      }
    }
  }
}
